<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>INTUITY - Mobile Reading</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #1a2332;
      --bg-secondary: #243447;
      --accent-lime: #32d74b;
      --btn-grey: rgba(255, 255, 255, 0.2);
      --text-primary: rgba(255, 255, 255, 0.85);
      --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, var(--bg-primary), var(--bg-secondary));
      color: var(--text-primary);
      min-height: 100vh;
      overflow-x: hidden;
      padding-bottom: 70px; /* space for footer */
    }

    /* üìñ Passage Styling */
    .passage-content {
      padding: 1rem;
      font-size: 1rem;
      line-height: 1.7;
      max-width: 36ch;
      margin: 80px auto 100px auto;
      font-weight: 400;
    }

    .passage-paragraph {
      margin-bottom: 1.5rem;
      text-align: left;
    }

    /* ü´ß Question Bubble */
    .question-bubble {
      position: fixed;
      bottom: 70px;
      left: 10px;
      right: 10px;
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(25px);
      border-radius: 16px;
      padding: 1rem;
      box-shadow: var(--shadow);
      max-height: 50vh;
      overflow-y: auto;
      font-size: 0.9rem;
    }

    /* üîò Question Nav Buttons */
    .nav-buttons {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-bottom: 0.8rem;
    }

    .nav-btn {
      background: var(--btn-grey);
      border: none;
      border-radius: 50%;
      width: 2.2rem;
      height: 2.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: 600;
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .nav-btn.active,
    .nav-btn.answered {
      background: var(--accent-lime);
      color: #000;
    }

    /* üìå Question Text */
    .question-header {
      margin-bottom: 0.5rem;
    }

    .question-text {
      font-weight: 500;
      margin-bottom: 0.75rem;
    }

    /* üìù Options */
    .options-container {
      display: grid;
      gap: 0.4rem;
    }

    .option {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      padding: 0.6rem;
      cursor: pointer;
      transition: 0.3s;
      font-size: 0.85rem;
    }

    .option:hover {
      border-color: var(--accent-lime);
      background: rgba(50, 215, 75, 0.1);
    }

    .option.selected {
      border-color: var(--accent-lime);
      color: var(--accent-lime);
    }

    .option.correct {
      background: var(--accent-lime) !important;
      color: #000 !important;
      font-weight: 600;
    }

    /* üìç Footer */
    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(20px);
      display: flex;
      justify-content: space-around;
      align-items: center;
      padding: 0.6rem 0.4rem;
      box-shadow: var(--shadow);
    }

    .footer button {
      flex: 1;
      margin: 0 0.2rem;
      background: var(--btn-grey);
      border: none;
      border-radius: 8px;
      padding: 0.5rem 0.3rem;
      color: #fff;
      font-size: 0.75rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.3s;
    }

    .footer button:hover {
      background: var(--accent-lime);
      color: #000;
    }

    @media (max-width: 480px) {
      .footer button {
        font-size: 0.65rem;
        padding: 0.4rem 0.2rem;
      }
    }
  </style>
</head>
<body>
  <!-- Passage -->
  <div class="passage-content" id="passage-content"></div>

  <!-- Question Bubble -->
  <div class="question-bubble">
    <div class="nav-buttons" id="nav-buttons"></div>

    <div class="question-header">
      <div class="question-number">Question <span id="question-number">1</span></div>
    </div>

    <div class="question-text" id="question-text">Loading question...</div>
    <div class="options-container" id="options-container"></div>
  </div>

  <!-- Footer -->
  <div class="footer">
    <button onclick="repeatExercise()">Repeat</button>
    <button onclick="nextExercise()">Next Exercise</button>
    <button onclick="goBack()">Back</button>
    <button onclick="goHome()">Home</button>
    <button onclick="showScore()">Score</button>
    <button onclick="showAnswers()">Show Answers</button>
  </div>

  <script>
    // üìö Sample Data
    const readingData = {
      passage: [
        "The rapid advancement of digital technology has fundamentally transformed the landscape of education in the 21st century.",
        "Educational institutions worldwide have embraced various forms of technology integration, from simple presentation tools to sophisticated learning systems.",
        "However, the shift to digital education is not without its challenges.",
        "Despite these concerns, research suggests that when properly implemented, digital tools can enhance learning outcomes significantly."
      ],
      questions: [
        { id: 1, text: "What is transforming education?", options: ["Books", "Technology", "Sports"], correct: 1 },
        { id: 2, text: "Who embraced technology?", options: ["Teachers only", "Institutions worldwide", "Students only"], correct: 1 },
        { id: 3, text: "What concern exists?", options: ["Too many exams", "Challenges of digital", "No internet"], correct: 1 },
        { id: 4, text: "What helps outcomes?", options: ["Proper use of digital tools", "Skipping class", "Old methods only"], correct: 0 },
        { id: 5, text: "What century is mentioned?", options: ["20th", "21st", "22nd"], correct: 1 },
        { id: 6, text: "What is being enhanced?", options: ["Sports", "Entertainment", "Learning outcomes"], correct: 2 }
      ]
    };

    let currentQuestion = 1;
    let userAnswers = {};

    // Load passage
    const passageContainer = document.getElementById('passage-content');
    passageContainer.innerHTML = readingData.passage
      .map(p => `<div class="passage-paragraph">${p}</div>`)
      .join('');

    // Load nav buttons
    const navButtons = document.getElementById('nav-buttons');
    readingData.questions.forEach((q) => {
      const btn = document.createElement('button');
      btn.className = 'nav-btn';
      btn.textContent = q.id;
      btn.onclick = () => loadQuestion(q.id);
      navButtons.appendChild(btn);
    });

    // Load question
    function loadQuestion(id) {
      currentQuestion = id;
      const q = readingData.questions[id - 1];
      document.getElementById('question-number').textContent = q.id;
      document.getElementById('question-text').textContent = q.text;

      // Update nav buttons state
      document.querySelectorAll('.nav-btn').forEach((btn, index) => {
        btn.classList.remove('active');
        if (index + 1 === id) btn.classList.add('active');
        if (userAnswers[index + 1] !== undefined) btn.classList.add('answered');
      });

      const optionsContainer = document.getElementById('options-container');
      optionsContainer.innerHTML = q.options
        .map((opt, i) =>
          `<div class="option ${userAnswers[id] === i ? 'selected' : ''}" onclick="selectOption(${i})">${opt}</div>`
        )
        .join('');
    }

    // Select option
    function selectOption(index) {
      userAnswers[currentQuestion] = index;
      loadQuestion(currentQuestion);
    }

    // Show answers (lime fill)
    function showAnswers() {
      const q = readingData.questions[currentQuestion - 1];
      const options = document.querySelectorAll('.option');
      options.forEach((opt, i) => {
        opt.classList.remove('correct');
        if (i === q.correct) {
          opt.classList.add('correct');
        }
      });
    }

    // Footer actions
    function repeatExercise() {
      userAnswers = {};
      loadQuestion(1);
    }
    function nextExercise() {
      alert("Next exercise not implemented yet.");
    }
    function goBack() {
      history.back();
    }
    function goHome() {
      location.href = "/";
    }
    function showScore() {
      let score = 0;
      readingData.questions.forEach((q, i) => {
        if (userAnswers[q.id] === q.correct) score++;
      });
      alert(`Your score: ${score}/${readingData.questions.length}`);
    }

    // Init
    loadQuestion(1);
  </script>
</body>
</html>

    // Init
    loadQuestion(1);
  </script>
</body>
</html>
